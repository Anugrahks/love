{
  "kind": "build_request",
  "title": "Build private cinematic Valentineâ€™s romantic interactive web app (â€œYou Are My Favorite Love Storyâ€)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a mobile-first, fully responsive single-page romantic web experience titled â€œYou Are My Favorite Love Storyâ€ with a consistent visual theme: soft pink, deep red, warm beige base, and subtle gold accents; glassmorphism cards; slow fades and smooth transitions; elegant modern typography (script-like headings + clean sans-serif body).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Create a stunning, interactive romantic web app titled:\n\nâ€œYou Are My Favorite Love Storyâ€ ğŸ’•\n...\nSoft pink, deep red, warm beige, and subtle gold accents\n...\nSmooth transitions, slow fades, glassmorphism cards\nFully responsive (mobile-first design)\nElegant modern fonts (script for headings, clean sans-serif for body)"
        ]
      },
      "acceptanceCriteria": [
        "App renders cleanly on common mobile widths (e.g., 360px) through desktop widths without layout breakage.",
        "Theme colors and typography are applied consistently across all sections (no default/un-themed screens).",
        "Glassmorphism card styling is used for key content blocks (timeline entries, flip cards, final prompt).",
        "Transitions between major sections use gentle fades/slow easing (no abrupt jumps)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement an ambient romantic background layer with animated floating petals and/or softly glowing hearts that runs throughout the experience without blocking content interaction.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Animated floating petals or soft glowing hearts"
        ]
      },
      "acceptanceCriteria": [
        "Ambient animation is visible behind content and continues across sections.",
        "Animation does not significantly degrade performance on mobile (no obvious stutter during scroll).",
        "Foreground content remains clickable and readable over the background layer."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Add background romantic instrumental music that autoplays only after an explicit user gesture (e.g., tapping the landing CTA), includes an always-available mute/unmute toggle, and supports user-provided music upload to replace the default track for the current session.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Dreamy romantic instrumental background music (with mute toggle)\n...\nBackground music upload"
        ]
      },
      "acceptanceCriteria": [
        "Music starts only after the user taps the landing screen button (no autoplay on initial load).",
        "Mute toggle stops/starts audio reliably and reflects current state.",
        "User can upload an audio file and the app switches to it for playback without a page reload.",
        "If no upload is provided, a default bundled track is used."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Build the Landing Screen showing the exact intro text â€œKukkuâ€¦ I made something just for you ğŸ’Œâ€ and a glowing animated button labeled â€œTap to feel lovedâ€. On click/tap: play a soft heartbeat sound effect and fade into the main experience.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸŒ¸ Landing Screen\n\nDisplay:\n\nâ€œHey Beautifulâ€¦ I made something just for you ğŸ’Œâ€\n\nWith a glowing animated button:\n\nâ€œTap to feel lovedâ€\n\nWhen she clicks:\n\nSoft heartbeat sound\nScreen fades into a magical love experience"
        ]
      },
      "acceptanceCriteria": [
        "Landing displays the specified text and CTA label exactly (including emoji).",
        "CTA has a visible glow/animated emphasis state.",
        "On CTA tap, a heartbeat SFX plays and the UI transitions via a fade into the next section.",
        "If audio is muted, heartbeat does not play (or plays at 0 volume) while still transitioning."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Create Section 1 â€œOur Storyâ€ as a scroll-based animated timeline with five editable entries: â€œThe Day We Metâ€, â€œThe First Time You Made Me Smileâ€, â€œOur Most Random Funny Momentâ€, â€œThe Moment I Knew You Were Differentâ€, and â€œToday â€” Still Choosing Youâ€. Each entry must slide in with a soft animation, support photo upload, and include a short love note input area.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ’Œ Section 1: Our Story (Interactive Timeline)\n\nCreate a scroll-based animated timeline with editable sections:\n\nThe Day We Met\n\nThe First Time You Made Me Smile\n\nOur Most Random Funny Moment\n\nThe Moment I Knew You Were Different\n\nToday â€” Still Choosing You\n\nEach section should:\n\nSlide in with soft animation\n\nAllow photo uploads\n\nInclude space for a short love note"
        ]
      },
      "acceptanceCriteria": [
        "Timeline contains exactly the five specified entry titles in order.",
        "Each entry animates into view as the user scrolls (soft slide + fade).",
        "Each entry allows uploading at least one photo and shows a preview once selected.",
        "Each entry provides an editable text area for a love note and updates the displayed content immediately."
      ]
    },
    {
      "id": "REQ-6",
      "text": "Create Section 2 â€œ12 Reasons Iâ€™m Crazy About Youâ€ as interactive flip cards. Cards initially show a short front label; on click/tap they flip to reveal the provided placeholder messages. Make the 12th (last) card visually special (brighter glow) and on reveal show the exact message â€œAnd Iâ€™m never letting you go â¤ï¸â€.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ’– Section 2: 12 Reasons Iâ€™m Crazy About You\n\nDisplay as interactive flip cards.\nWhen she clicks a card, it flips and reveals a romantic message.\n\nExample placeholders:\n\nYour smile melts me.\n...\nI choose you. Every single day.\n\nMake the last card glow brighter and reveal:\n\nâ€œAnd Iâ€™m never letting you go â¤ï¸â€"
        ]
      },
      "acceptanceCriteria": [
        "There are 12 flip cards rendered in a responsive grid/stack appropriate for mobile.",
        "Each card flips on tap/click and shows the corresponding message text on the back.",
        "The last card has a noticeably stronger glow than the others.",
        "The last cardâ€™s revealed text matches exactly: â€œAnd Iâ€™m never letting you go â¤ï¸â€."
      ]
    },
    {
      "id": "REQ-7",
      "text": "Create Section 3 â€œThe Love Meterâ€ with an animated meter that fills from 0% to 100%. When reaching 100%, the meter â€œbreaksâ€ and displays the exact message â€œSystem Error: Love too powerful to measure ğŸ’â€, followed by a confetti plus heart-explosion animation.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ’˜ Section 3: The Love Meter\n\nCreate an animated â€œLove Meterâ€ that fills from 0% to 100%.\n\nAt 100%, it breaks and displays:\n\nâ€œSystem Error: Love too powerful to measure ğŸ’â€\n\nAdd confetti + heart explosion animation."
        ]
      },
      "acceptanceCriteria": [
        "Meter visibly animates from 0% to 100% (not instantaneous).",
        "At completion, the UI transitions to a â€œbrokenâ€ state and shows the exact error message.",
        "Confetti animation and a distinct heart-explosion animation trigger at/after 100%.",
        "The fill animation can be triggered in a predictable way (e.g., on section entering viewport or via a button), without repeatedly retriggering uncontrollably during scroll."
      ]
    },
    {
      "id": "REQ-8",
      "text": "Implement the Final Surprise Moment section: dim the background, swell the music (increase volume or intensify effect within safe levels), show the centered message â€œWill you be my forever Valentine?â€ with two buttons labeled exactly â€œYes ğŸ¥ºâ€ and â€œObviously Yes ğŸ˜Œâ€. Regardless of which is clicked, trigger fireworks animation and then display the exact message â€œI loved you yesterday. I love you today. Iâ€™ll love you more tomorrow.â€",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ’ Final Surprise Moment\n\nDim background.\nSoft music swells.\nDisplay big centered message:\n\nâ€œWill you be my forever Valentine?â€\n\nTwo buttons:\n\nâ€œYes ğŸ¥ºâ€\n\nâ€œObviously Yes ğŸ˜Œâ€\n\nNo matter what she clicks:\n\nShow fireworks animation\n\nDisplay message:\n\nâ€œI loved you yesterday. I love you today. Iâ€™ll love you more tomorrow.â€"
        ]
      },
      "acceptanceCriteria": [
        "Final section visually dims the background behind the prompt.",
        "Both buttons are present with exact labels and are tappable on mobile.",
        "Either button triggers the same outcome: fireworks animation + final love message.",
        "Music swell behavior occurs on entering the final moment or on button click, and respects mute state."
      ]
    },
    {
      "id": "REQ-9",
      "text": "Add a countdown timer to next Valentineâ€™s Day and a floating bottom message â€œMade with love, by your favorite person â¤ï¸â€ visible in the final portion of the experience.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Add:\n\nCountdown timer to next Valentineâ€™s Day\n\nFloating message at bottom:\nâ€œMade with love, by your favorite person â¤ï¸â€"
        ]
      },
      "acceptanceCriteria": [
        "Countdown targets the next Feb 14 relative to the current date (automatically choosing the next occurrence).",
        "Countdown updates at least every second (or every minute, but must be clearly live/updating).",
        "Footer message is fixed/floating near the bottom and remains readable over the background.",
        "Footer text matches exactly (including emoji)."
      ]
    },
    {
      "id": "REQ-10",
      "text": "Implement a secret hidden feature: show a small heart icon somewhere subtle; when it is tapped 5 times, reveal the hidden message â€œYouâ€™re the best thing that ever happened to me.â€",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ” Secret Hidden Feature\n\nIf she taps a small heart icon 5 times:\nReveal hidden message:\n\nâ€œYouâ€™re the best thing that ever happened to me.â€"
        ]
      },
      "acceptanceCriteria": [
        "A small heart icon is present in the UI and is tappable/clickable.",
        "After exactly 5 taps (within a reasonable time window or cumulatively), the hidden message is revealed.",
        "Message text matches exactly (including punctuation).",
        "Hidden message reveal is non-destructive (does not wipe user customization inputs)."
      ]
    },
    {
      "id": "REQ-11",
      "text": "Add the optional secret code unlock: provide a simple input for a secret code (e.g., anniversary date) that, when correctly matched to the configured anniversary date, reveals â€œYouâ€™re not just my Valentine. Youâ€™re my future.â€",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Optional:\nAdd secret code unlock (like anniversary date) that reveals:\n\nâ€œYouâ€™re not just my Valentine. Youâ€™re my future.â€"
        ]
      },
      "acceptanceCriteria": [
        "A code input UI is available (can be within the hidden feature area or a subtle modal).",
        "Entering a value that matches the configured anniversary date unlocks and displays the exact future message.",
        "Entering an incorrect value does not reveal the message and provides a gentle, on-theme response (no harsh error styling)."
      ]
    },
    {
      "id": "REQ-12",
      "text": "Provide in-app customization fields to edit: her name, your names, anniversary date, custom messages used throughout the experience, photo uploads used in the timeline, and background music upload. Customizations must immediately reflect in the UI without requiring a reload.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ Customization Fields\n\nAllow editable fields for:\n\nHer name\n\nYour names\n\nAnniversary date\n\nCustom messages\n\nPhoto uploads\n\nBackground music upload"
        ]
      },
      "acceptanceCriteria": [
        "A clear â€œCustomizeâ€ area (panel/modal/section) exists where the user can edit the listed fields.",
        "Edited values are reflected in the relevant sections (e.g., names appear where used, anniversary date drives countdown/secret code).",
        "Photo uploads are previewed and used in the timeline entries.",
        "Custom messages can override default placeholder copy in their respective sections."
      ]
    },
    {
      "id": "REQ-13",
      "text": "Persist customization data and uploaded media references locally in the browser (so the surprise can be prepared and reopened on the same device) and provide a â€œReset to defaultsâ€ action.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "ğŸ Customization Fields\n...\nMake it:\n...\nPersonalized"
        ]
      },
      "acceptanceCriteria": [
        "After refreshing the page, previously entered customization values reappear (same browser).",
        "Reset action restores default placeholder content and clears uploaded media selections.",
        "Persistence does not require login or external services."
      ]
    },
    {
      "id": "REQ-14",
      "text": "Add a minimal Motoko backend model for saving and retrieving a single â€œprojectâ€ configuration per authenticated Internet Identity user (names, anniversary date, messages). Frontend should offer an optional â€œSave to canisterâ€ / â€œLoad from canisterâ€ flow that uses the authenticated principal; app must still work without signing in (local-only mode).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "This is a private Valentineâ€™s Day surprise...\nğŸ Customization Fields\nAllow editable fields for...\nCustom messages"
        ]
      },
      "acceptanceCriteria": [
        "When signed in with Internet Identity, user can save configuration to the canister and later load it back successfully.",
        "Backend stores data keyed by caller principal and returns only the callerâ€™s data.",
        "When not signed in, the app remains usable with local persistence only and does not error.",
        "Backend does not attempt to store raw image/audio binary in stable memory (store only text config; uploads remain local/front-end)."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor in the configured main file; do not introduce additional backend services.",
    "Do not edit files under frontend/src/components/ui or any other immutablePaths listed in SYSTEM_CONTEXT; compose those components instead.",
    "Do not use third-party auth providers; only Internet Identity is permitted for optional save/load.",
    "No external databases or third-party media hosting; keep default media as static frontend assets and user uploads in-browser."
  ],
  "nonGoals": [
    "Building a multi-user public sharing/community feature.",
    "Integrating social media APIs, messaging, email, or push notifications.",
    "Implementing real-money payments or any wallet/Web3 integration.",
    "Real-time multiplayer or websocket-based features."
  ],
  "imageRequirements": {
    "required": [
      "Seamless romantic background texture with soft bokeh and warm beige/pink tones (romantic-bg-texture.dim_1920x1080.png)",
      "Set of 6 translucent flower petals sprites with subtle highlight (petal-sprite-set.dim_512x512.png)",
      "Set of 6 soft glowing heart sprites, varied sizes (heart-sprite-set.dim_512x512.png)",
      "Small minimal heart icon with gold accent, transparent background (secret-heart-icon.dim_128x128.png)",
      "Fireworks burst sprite sheet, transparent background (fireworks-spritesheet.dim_1024x1024.png)",
      "Confetti pieces sprite sheet with hearts mixed in, transparent background (confetti-hearts-spritesheet.dim_1024x1024.png)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [
      "Build a private, cinematic Valentineâ€™s Day surprise web app with interactive romantic sections, personalization, ambient animation, and optional canister-backed saving."
    ],
    "goalsToRemove": [],
    "preferencesToAdd": [
      "Prefer soft pink/deep red/warm beige with subtle gold accents; glassmorphism; slow fades; romantic, classy, playful-cinematic tone; mobile-first responsive UI; script headings + sans-serif body fonts."
    ],
    "preferencesToRemove": [],
    "miscToAdd": [
      "User-facing text must be in English."
    ],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}